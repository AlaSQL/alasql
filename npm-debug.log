0 info it worked if it ends with ok
1 verbose cli [ 'node', '/usr/local/bin/npm', 'publish' ]
2 info using npm@2.6.1
3 info using node@v0.10.29
4 verbose publish [ '.' ]
5 silly cache add args [ '.', null ]
6 verbose cache add spec .
7 silly cache add parsed spec { raw: '.',
7 silly cache add   scope: null,
7 silly cache add   name: null,
7 silly cache add   rawSpec: '.',
7 silly cache add   spec: '/Users/agershun/Dropbox/repo/alasql',
7 silly cache add   type: 'directory' }
8 verbose addLocalDirectory /Users/agershun/.npm/alasql/0.0.49/package.tgz not in flight; packing
9 verbose tar pack [ '/Users/agershun/.npm/alasql/0.0.49/package.tgz',
9 verbose tar pack   '/Users/agershun/Dropbox/repo/alasql' ]
10 verbose tarball /Users/agershun/.npm/alasql/0.0.49/package.tgz
11 verbose folder /Users/agershun/Dropbox/repo/alasql
12 info prepublish alasql@0.0.49
13 verbose addLocalTarball adding from inside cache /Users/agershun/.npm/alasql/0.0.49/package.tgz
14 silly cache afterAdd alasql@0.0.49
15 verbose afterAdd /Users/agershun/.npm/alasql/0.0.49/package/package.json not in flight; writing
16 verbose afterAdd /Users/agershun/.npm/alasql/0.0.49/package/package.json written
17 silly publish { name: 'alasql',
17 silly publish   description: 'AlaSQL - JavaScript SQL database and data manipulation library',
17 silly publish   version: '0.0.49',
17 silly publish   author: { name: 'Andrey Gershun', email: 'agershun@gmail.com' },
17 silly publish   directories: { example: 'examples', test: 'test' },
17 silly publish   devDependencies:
17 silly publish    { 'dom-storage': '2.0.1',
17 silly publish      gulp: '3.8.11',
17 silly publish      'gulp-changed': '1.2.1',
17 silly publish      'gulp-concat-sourcemap': '1.3.1',
17 silly publish      'gulp-shell': '0.4.1',
17 silly publish      jison: '0.4.15',
17 silly publish      lodash: '3.7.0',
17 silly publish      xlsjs: '0.7.15',
17 silly publish      xlsx: '0.8.0' },
17 silly publish   engines: [ 'node' ],
17 silly publish   repository: { type: 'git', url: 'http://github.com/agershun/alasql.git' },
17 silly publish   bugs: { url: 'https://github.com/agershun/alasql/issues' },
17 silly publish   bin: { alacon: './bin/alacon.js', alaserver: './bin/alaserver.js' },
17 silly publish   homepage: 'https://github.com/agershun/alasql',
17 silly publish   main: 'dist/alasql.js',
17 silly publish   scripts: { test: 'cd test && mocha .' },
17 silly publish   keywords:
17 silly publish    [ 'sql',
17 silly publish      'nosql',
17 silly publish      'alasql',
17 silly publish      'javascript',
17 silly publish      'parser',
17 silly publish      'database',
17 silly publish      'DBMS',
17 silly publish      'data',
17 silly publish      'query',
17 silly publish      'localStorage',
17 silly publish      'IndexedDB',
17 silly publish      'DOM-storage',
17 silly publish      'SQLite',
17 silly publish      'JSON',
17 silly publish      'Excel',
17 silly publish      'XLSX',
17 silly publish      'XLS',
17 silly publish      'CSV',
17 silly publish      'worker' ],
17 silly publish   license: 'MIT',
17 silly publish   readme: '# AlaSQL.js - JavaScript SQL database library with support of localStorage, IndexedDB, and Excel\r\n\r\nVersion: 0.0.50 "Seoul" Date: April 22, 2015 [Change log](CHANGELOG.md), [Release plan](RELEASES.md)\r\n\r\nPlease use [AlaSQL Forum](https://groups.google.com/d/forum/alasql) for discussions or [Issues](https://github.com/agershun/alasql/issues) to report bugs.\r\n\r\nAlaSQL - \'[à la SQL](http://en.wiktionary.org/wiki/%C3%A0_la)\' - is a lightweight JavaScript  SQL database designed to work in browser, Node.js, and Apache Cordova. It supports traditional SQL with some NoSQL functionality. Current version of AlaSQL can work in memory and use file, IndexedDB, and localStorage as a persistent storage.\r\n\r\nAlaSQL is easy to use! Just add [alasql.min.js](alasql.min.js) file (about 280Kb) to your project and call \r\n```alasql()``` function with SQL statement inside: \r\n\r\n```html\r\n    <script src="alasql.min.js"></script>  \r\n    <script>\r\n        alasql("CREATE TABLE cities (city string, population number)");\r\n        alasql("INSERT INTO cities VALUES (\'Rome\',2863223), (\'Paris\',2249975),\\\r\n            (\'Berlin\',3517424), (\'Madrid\',3041579)");\r\n        console.log( alasql("SELECT * FROM cities WHERE population < 3500000 ORDER BY population DESC") );\r\n    </script>\r\n```\r\nRun this sample in [jsFiddle](http://jsfiddle.net/agershun/15r1y9hg/) or try it in <a href="http://alasql.org/console?CREATE TABLE cities (city string, population number);INSERT INTO cities VALUES (\'Rome\',2863223), (\'Paris\',2249975),(\'Berlin\',3517424), (\'Madrid\',3041579);SELECT * FROM cities WHERE population < 3500000 ORDER BY population DESC">AlaSQL console</a>.\r\n\r\n## Documentation \r\n\r\n* [AlaSQL Wiki](https://github.com/agershun/alasql/wiki)\r\n* [AlaSQL User Manual](http://www.slideshare.net/AndreyGershun/alasql-manual-141220-1)\r\n* [AlaSQL Coockbok](https://github.com/agershun/alasql/wiki/Data-manipulation) - Q&A, examples\r\n* [StackOverflow AlaSQL Q&A](http://stackoverflow.com/questions/tagged/alasql)\r\n* [AlaSQL Issues](https://github.com/agershun/alasql/issues)\r\n\r\n## Why AlaSQL?\r\n\r\n* AlaSQL was written with pure JavaScript and does not use WebSQL database. \r\n* AlaSQL uses "good old" SQL with advanced funcionality like multiple JOINs, VIEWs, GROUPs, UNIONs, PRIMARY KEYs, ANY, ALL, IN, subqueries, ROLLUP(), CUBE() and GROUPING SETS(), CROSS APPLY, OUTER APPLY, WITH SELECT, views, functions, variables\r\n* AlaSQL works with all modern versions of browsers Chrome, Firefox, IE, Safari, Opera, Node.js, and mobile iOS and Android, plus Apache Cordova.\r\n* AlaSQL can to work directly with JavaScript objects and functions inside SQL, it can search JSON objects like JavaScript and NoSQL databases\r\n* AlaSQL supports file, IndexedDB, and localStorage (with AUTOCOMMIT ON and AUTOCOMMIT OFF modes)\r\n* Plus some [JavaScript sugar](#Sugar)\r\n* AlaSQL is fast, because it uses some optimization methods. \r\n\r\nCheck AlaSQL vs other JavaScript SQL databases and data processing libraries: \r\n* [AlaSQL vs. WebSQL](http://jsperf.com/alasql-js-vs-websql/7) - for in-memory SELECT operations (see discussion at [issue #47](https://github.com/agershun/alasql/issues/47))\r\n * [AlaSQL vs. SQL.js](http://jsperf.com/sql-js-vs-alasql-js/4) - in-memory operations* [AlaSQL vs. Linq](http://jsperf.com/alasql-vs-linq-on-groupby) - test on 2^20 records\r\n * AlaSQL vs. CrossFilter - [test 1](http://jsperf.com/alasql-vs-crossfilter), [test 2 on 8000 records](http://jsperf.com/alasql-vs-crossfilter-athletic-data)\r\n * [AlaSQL vs. Lodash](http://jsperf.com/alasql-vs-lodash), [AlaSQL vs. Lodash vs. Underscore](http://jsperf.com/alasql-vs-lodash-sort/3) \r\n * [AlaSQL vs. Human](http://jsperf.com/javascript-array-grouping/7) :) - based on SatckOverflow [question on grouping](http://stackoverflow.com/questions/6781722/fast-grouping-of-a-javascript-array).\r\n\r\n## What is new?\r\n\r\n### AlaSQL export to Excel with colors\r\n\r\nNow AlaSQL can export data to XLS format with coloring cells\r\n\r\n```js\r\n    var opts = {\r\n      headers: true,\r\n      sheetid: \'My Birds\',\r\n      style:"background:#00ff00",\r\n      columns: [\r\n        {columnid:\'a\',title:\'Albatroses\',\r\n          style:\'background:red;font-size:20px\',\r\n          cell:{style:\'background:blue\'}\r\n        },\r\n        {columnid:\'b\',title:\'Bird\',cell:{\r\n          style:function(value,sheet,row,column,rowidx,columnidx){\r\n            return \'background\'+(value==10?\'brown\':\'white\')\r\n        }}},\r\n        { \r\n          columnid: \'b\', cell:{value:function(value){ return value * value}}\r\n        }\r\n      ]\r\n    };\r\n\r\n    var res = alasql(\'SELECT * INTO XLS("restest257a.xls",?) FROM ?\',[opts,data]); \r\n\r\n```\r\nPlease, see the example with advanced color syntax [in jsFiddle](http://jsfiddle.net/agershun/95j0txwx/2/).\r\n\r\n### AlaSQL and Google Spreadsheets (with Tabletop)\r\n\r\nNow AlaSQL can read data (and make other manipulations like grouping, filtering, or saving to XLSX) directly from Google Spreadsheets. It uses wonderful [Tabletop library](https://github.com/jsoma/tabletop).\r\n\r\n```html\r\n<script src=\'../../console/tabletop.js\'></script>\r\n<script src=\'../../console/alasql.min.js\'></script>\r\n<div id="res"></div>\r\n<script>\r\n    var url = \'https://docs.google.com/spreadsheet/pub?hl=en_US&hl=en_US&key=0AmYzu_s7QHsmdDNZUzRlYldnWTZCLXdrMXlYQzVxSFE&output=html\';\r\n\r\n    alasql(\'SELECT * INTO HTML("#res",{headers:true}) FROM TABLETOP(?) WHERE name < "D" ORDER BY category\',[url]);\r\n</script>\r\n```\r\n\r\nYou can try this example [in jsFiddle](http://jsfiddle.net/ezy7rhhd/2).\r\n\r\n### AlaSQL as a WebWorker\r\n\r\nAlaSQL can work as a webworker. Include alasql-worker.js and that is it: AlaSQL will work as a webworker.\r\n\r\n```html\r\n    <script src="alasql-worker.min.js"></script>\r\n    <script>\r\n        var arr = [{a:1},{a:2},{a:1}];\r\n        alasql(\'SELECT * FROM ?\',[arr],function(data){\r\n            console.log(data);\r\n        });\r\n    </script>    \r\n```\r\nTry the example [at jsFiddle](http://jsfiddle.net/agershun/oxv4rzzc/).\r\n\r\nAnother option - run alasql.worker() function:\r\n\r\n```html\r\n    <script src="alasql.min.js"></script>\r\n    <script>\r\n         alasql.worker();\r\n         var res = alasql(\'select value 10\',[],function(res){\r\n              console.log(res);\r\n         });\r\n    </script>\r\n```\r\nTry this example [in jsFiddle](http://jsfiddle.net/agershun/rjwp8u48/3/).\r\n\r\nAlso you can use AlaSQL in webworker just simply load it as a script:\r\n\r\n```js\r\n    importScripts(\'alasql.min.js\');\r\n```\r\n\r\n### Read and write Excel, CSV, TAB, JSON,  and text files to/from database\r\n\r\nNow AlaSQL can work with files in XLS, XSLX, CSV, TAB, TXT, and JSON format\r\n\r\n```js\r\n    alasql(\'select * into one from csv("mydata.csv")\');\r\n    alasql(\'select Country, Name from xlsx("cities.xlsx",{headers:true, range:"B1:E10"})\\\r\n        where Population > 100000\',\r\n        [],function(data){\r\n        console.log(data);\r\n    });\r\n```\r\nSee [test168](test/test168.js) - [test169](test/test169.js)\r\n\r\n### d3.js + AlaSQL\r\n\r\nAlaSQL can be used with d3.js to create diagrams, like the example below. Here AlaSQL\r\nread Excel file with Olympic Prizes, group and sort rows by one of the axes, and then\r\ntake top 10 records and create a list with axe values:\r\n\r\n```js\r\n    function graph(axe) {\r\n        alasql(\'SELECT TOP 10 \'+axe+\', SUM([Gold Medals]) AS Gold, \\\r\n            SUM([Silver Medals]) AS Silver, SUM([Bronze Medals]) AS Bronze \\\r\n            FROM XLSX("medals.xlsx",{headers:true}) \\\r\n            GROUP BY \'+axe+\' ORDER BY \'+axe,[],function(data){\r\n\r\n            d3.select("body")\r\n            .append(\'ul\')\r\n            .data(data)\r\n            .entry()\r\n            .append(\'li\')\r\n            .text(function(d){return d[axe]});\r\n        });\r\n    }\r\n\r\n    graph(\'Axe\');\r\n\r\n```\r\n\r\nTry the [simple example](http://alasql.org/demo/005d3/) of AlaSQL + d3.js integration.\r\n\r\n\r\n### Google Maps + AlaSQL\r\n```js\r\n    alasql("SELECT * FROM CSV("https://cdn.rawgit.com/albertyw/avenews/master/old/data/average-latitude-longitude-countries.csv",{headers:true})\', [], function(country){\r\n        var mapOptions = { zoom : 3, center : new google.maps.LatLng(40, 0),\r\n            mapTypeId : google.maps.MapTypeId.ROADMAP\r\n        };\r\n        var map = new google.maps.Map(document.getElementById(\'map-canvas\'), mapOptions);\r\n        for (i = 0; i < country.length; i++) {\r\n            var opts = {\r\n                strokeColor : \'#000000\',\r\n                fillColor : ["red","green","blue","brown"][i%4],\r\n                fillOpacity : 0.35,\r\n                map : map,\r\n                center : new google.maps.LatLng(country[i].Latitude,country[i].Longitude),\r\n                radius : 100000\r\n            };\r\n            new google.maps.Circle(opts);\r\n    });\r\n```\r\nCheck [this example](http://alasql.org/demo/009geo) and [this example](http://jsfiddle.net/agershun/1o2xq1yh/2/) of integrations AlaSQL and Google Maps.\r\n\r\n### ETL sample: CSV and IndexedDB database\r\n\r\nUpload CSV file with headers to IndexedDB database, and then save only asian countries \r\nto Excel file:\r\n```js\r\n    alasql(\'ATTACH INDEXEDDB DATABASE geo; \\\r\n            CREATE TABLE IF NOT EXISTS geo.country; \\\r\n            SELECT * INTO geo.country FROM CSV("country.csv",{headers:true}); \\\r\n            SELECT * INTO XLSX("asia.xlsx") FROM geo.country WHERE continent_name = "Asia"\');\r\n```\r\nSee [the example](http://alasql.org/demo/001csv/). \r\n\r\n### Read SQLite database files\r\n\r\nAlaSQL can work with SQLite data files on the top of with [SQL.js](https://github.com/kripken/sql.js) library:\r\n```html\r\n    <script src="alasql.js"></script>\r\n    <script src="sql.js"></script>\r\n    <script>\r\n        alasql(\'ATTACH SQLITE DATABASE Chinook("Chinook_Sqlite.sqlite");\\\r\n            USE Chinook; \\\r\n            SELECT * FROM Genre\',[],function(res){\r\n                console.log("Genres:",res.pop());\r\n        });\r\n    </script>\r\n```\r\n\r\nSee more detailed [the example](http://alasql.org/demo/004sqlite/).\r\n\r\n### Angular.js and AlaSQL.js\r\n\r\nYou can use AlaSQL together with Angular.js framework:\r\n\r\n```js\r\n    $scope.exportData = function () {\r\n        alasql(\'SELECT * INTO XLSX("john.xlsx",{headers:true}) FROM ?\',[$scope.items]);\r\n    };\r\n```\r\nSee [simple example in jsFiddle](http://jsfiddle.net/agershun/00nfeq12/).\r\n\r\nOther examples of AlaSQL and Angular.js integration: \r\n\r\n* [Calculating average of array](http://jsfiddle.net/agershun/she06Lq3/2/)\r\n\r\n## Examples\r\n\r\nTry AlaSQL in console:\r\n* AlaSQL Console [http://alasql.org/console](http://alasql.org/console)\r\n* [Console source code](console/index.html)\r\n* [Alacon](alacon.js) - command-line AlaSQL console (to run: ```alacon "sql-statement" params...```)\r\n* [Alaserver](alaserver.js) - very simple AlaSQL-server (to run: ```alaserver```, then \r\ntype in browser "http://127.0.0.1:1337/?SELECT VALUE 2*2" )\r\n\r\nTry AlaSQL in Fiddle: \r\n* Simple examples: [sample 1](http://jsfiddle.net/38hj2uwy/10/), [sample 2](http://jsfiddle.net/38hj2uwy/6/), [sample 3](http://jsfiddle.net/6a06dqhc/3/), [sample 4](http://jsfiddle.net/606ksx2g/1/), [sample 5](http://jsfiddle.net/agershun/38hj2uwy/40/)\r\n* [IndexedDB example](http://jsfiddle.net/agershun/1t2rrr78/)\r\n* [AlaSQL Sandbox](http://jsfiddle.net/czqfyhat/2/) - [source](examples/sandbox.html)\r\n* [Sieve of Eratosthenes](http://jsfiddle.net/agershun/1u05op11/) - [source](examples/prime.html)\r\n\r\nOther examples:\r\n* [World database](http://alasql.org/console?source \'world.sql\';select top 10 * from City) - [source](console/index.html)\r\n* Mini-ETL: [upload CSV data to IndexedDB database](http://alasql.org/demo/001csv/)\r\n* [More than 200 of AlaSQL tests](test)\r\n\r\n### What People Say about AlaSQL?\r\n\r\n* [What people around the world say about AlaSQL](PEOPLE.md)\r\n\r\n### Presentations\r\n\r\n* [AlaSQL.js - fast JavaScript in-memory SQL database](http://www.slideshare.net/AndreyGershun/alasqljsfast-javascript-inmemory-sql-database)\r\n* [SQL and NoSQL in AlaSQL database](http://www.slideshare.net/AndreyGershun/sql-and-nosql-in-alasql)\r\n\r\n## Installation\r\n\r\n### In browser\r\n\r\nInclude file: [alasql.js](./alasql.js) to the page.\r\n\r\n```html\r\n  <script src="alasql.js"></script>  \r\n  <script>\r\n    alasql("CREATE TABLE test (language INT, hello STRING)");\r\n    alasql("INSERT INTO test VALUES (1,\'Hello!\')");\r\n    alasql("INSERT INTO test VALUES (2,\'Aloha!\')");\r\n    alasql("INSERT INTO test VALUES (3,\'Bonjour!\')");\r\n    console.table(alasql("SELECT * FROM test WHERE language > 1"));\r\n  </script>\r\n\r\n```\r\nTry this sample in [AlaSQL console](http://alasql.org/console?CREATE TABLE test (language INT, hello STRING);INSERT INTO test VALUES (1,\'Hello!\');INSERT INTO test VALUES (2,\'Aloha!\');INSERT INTO test VALUES (3,\'Bonjour!\');SELECT * FROM test WHERE language > 1)\r\n\r\nYou can use alasql.js with define()/require() functions in browser as well, because it supports AMD and UMD:\r\n\r\n```js\r\n    require([\'../../alasql.js\'], function(alasql) {\r\n        var test1 = [{a:1,b:2,c:3},{a:4,b:5,c:6},{a:7,b:8,c:9}];\r\n        console.table(alasql(\'SELECT a, b*c AS bc FROM ? AS t\',[test1]));\r\n    });\r\n```\r\nLike in this sample you do not need to CREATE TABLE and INSERTS if you do not need constraints functionality.\r\n\r\n### In Node.js\r\n\r\nUse the following command for installation:\r\n```\r\n    npm install alasql\r\n```\r\nThen require alasql.js file:\r\n\r\n```js\r\n    var alasql = require(\'alasql\');\r\n\r\n    var db = new alasql.Database();\r\n    \r\n    db.exec("CREATE TABLE test (one INT, two INT)");\r\n    db.tables.test.data = [   // You can mix SQL and JavaScript\r\n        {one:3,two:4},\r\n        {one:5,two:6},\r\n    ];\r\n    var res = db.exec("SELECT * FROM test ORDER BY two DESC");\r\n    console.log(res[0].one);\r\n\r\n```\r\n\r\n### Supported SQL statements\r\n\r\n* SELECT TOP number columns INTO table FROM tableid1 JOIN tableid2 ON oncond WHERE cond GROUP BY v1,v2 HAVING cond ORDER BY a,b, LIMIT number OFFSET number\r\n* INSERT INTO table \\[ (field1, field2) \\] VALUES (value1, value2), (value3, value4), ...\r\n* INSERT INTO table SELECT subquery\r\n* UPDATE table SET field = value1, field = value2 WHERE condition \r\n* DELETE FROM table WHERE condition \r\n* CREATE TABLE \\[IF NOT EXISTS\\] table (columns type PRIMARY KEY, constraints)\r\n* ALTER TABLE ADD COLUMN / DROP COLUMN\r\n* DROP TABLE \\[IF EXISTS\\] table\r\n* CREATE DATABASE, USE DATABASE, DROP DATABASE\r\n* SHOW DATABASES / SHOW TABLES / SHOW COLUMNS / SHOW CREATE TABLE\r\n* SOURCE \'url-file.sql\'\r\n* ASSERT json-object\r\n* Expression (like SELECT expression)\r\n\r\nTry all these statements in [AlaSQL console](http://alasql.org/console?help)\r\n\r\n#### SELECT statement\r\n\r\nAlaSQL.js supports following subset of SELECT syntax:\r\n\r\n* SELECT column1, column2 AS alias3, FUNCTION(field4+field5) AS alias6, SUM(expression7) AS alias8, *, table2.*\r\n* TOP number\r\n* FROM table1, table2, (SELECT * FROM table3) alias\r\n* LEFT / RIGHT / INNER / OUTER / ANTI / SEMI / CROSS / NATURAL JOIN table2 ON condition / USING columns\r\n* WHERE condition\r\n* GROUP BY column1, column2, ROLLUP(a,b), CUBE(c,d,e), GROUPING SETS(g,h)\r\n* HAVING condition\r\n* ORDER BY column1, column2 DESC, \r\n* LIMIT number [OFFSET number]\r\n* UNION / UNION ALL select / INTERSECT / EXCEPT\r\n\r\nOperators:\r\n\r\n* +, -, *, /, %, AND, OR, NOT, BETWEEN, NOT BETWEEN, EXISTS (Subquery), > ALL (subquery/array), > ANY/SOME (subquery / array), [NOT] IN (subquery / array), LIKE\r\n* CAST (expression AS type)\r\n\r\nAggregators:\r\n\r\n* SUM(), COUNT(), MIN(), MAX(), FIRST(), LAST(), AVG(), AGGR(), ARRAY(), REDUCE()\r\n\r\nGROUP BY Grouping functions:\r\n\r\n* ROLLUP(), CUBE(), GROUPING SETS()\r\n\r\nFunctions:\r\n\r\n* ABS(), IIF(), IFNULL(), INSTR(), LOWER(), UPPER(), LCASE(), UCASE(), LEN(), LENGTH()\r\n* GREATEST(), LEAST()\r\n\r\nSELECT modifiers (non-standard SQL):\r\n* SELECT VALUE - get single value\r\n* SELECT ROW - get first row as an array\r\n* SELECT COLUMN - get first column as an array\r\n* SELECT MATRIX - get all results as an array of arrays\r\n\r\n#### User-defined JavaScript functions\r\n\r\nYou can use all benefits of SQL and JavaScript togeather by defining user functions. Just add new functions to alasql.fn object:\r\n\r\n```js\r\n        alasql.fn.double = function(x){return x*2};        \r\n        alasql.fn.sum10 = function(x,y) { return x+y*10; }\r\n        db.exec(\'SELECT a, double(a) AS b, sum10(a,b) FROM test1\');\r\n```\r\n\r\nUser-defined functions are related to current database. You can define different functions in different databases. \r\n\r\n### alasql\r\n\r\nalasql is a main variable of module. You can use it immediatly as default database\r\n\r\nIn browser:\r\n```html\r\n    <script src="alasql.js"></script>\r\n    <script>\r\n        alasql(\'CREATE TABLE one (two INT)\');\r\n    </script>\r\n```\r\nTry this sample in [AlaSQL console](http://alasql.org/console?CREATE TABLE one (two INT))\r\n\r\n\r\nor in Node.js:\r\n```js\r\n    var alasql = require(\'alasql\');\r\n    alasql(\'CREATE TABLE one (two INT)\');\r\n```\r\n\r\nAnother approach is to create new database:\r\n\r\n```js\r\n    var mybase = new alasql.Database();\r\n    mybase.exec(\'CREATE TABLE one (two INT)\');\r\n```\r\nYou can give a name to database and then access it from alasql:\r\n```js\r\n    var mybase = new alasql.Database(\'mybase\');\r\n    console.log(alasql.databases.mybase);\r\n```\r\n\r\nEach database can be used with the following methods:\r\n\r\n```js\r\n    var db = new alasql.Database() - create new alasql-database\r\n    var res = db.exec("SELECT * FROM one") - executes SELECT query and returns array of objects \r\n```\r\n\r\nUsually, alasql.js works synchronously, but you can use callback.\r\n\r\n```js\r\n    db.exec(\'SELECT * FROM test\', [], function(res){\r\n    \tconsole.log(res);\r\n    });\r\n```\r\n\r\nor you can use aexec() - promised version of exec (in this case you need to install [es6-promise](https://www.npmjs.org/package/es6-promise) module for Node.js) (this feature is experimental and may be removed in a future to reduce dependices):\r\n```js\r\n    db.aexec(\'SELECT * FROM test\').then(function(res){\r\n        console.log(res);\r\n    });\r\n```\r\nYou can use compile statements:\r\n```js\r\n    var insert = db.compile(\'INSERT INTO one (1,2)\');\r\n    insert();\r\n```\r\n\r\nYou can use parameters in compiled and interpreted statements:\r\n\r\n```js\r\n    var insert1 = db.compile(\'INSERT INTO one (?,?)\');\r\n    var insert2 = db.compile(\'INSERT INTO one ($a,$b)\');\r\n    var insert3 = db.compile(\'INSERT INTO one (:a,:b)\');\r\n\r\n    insert1([1,2]);\r\n    insert2({a:1,b:2});\r\n    insert3({a:3,b:4});\r\n\r\n    db.exec(\'INSERT INTO one (?,?)\',[5,6]);\r\n\r\n```\r\nYou even can use param in FROM clause: \r\n\r\n```js\r\n        var years = [\r\n            {yearid: 2012}, {yearid: 2013},\r\n            {yearid: 2014}, {yearid: 2015},\r\n            {yearid: 2016},\r\n        ];\r\n\r\n        var res = alasql.queryArray(\'SELECT * FROM ? AS years \' +\r\n            \'WHERE yearid > ?\', [years,2014]);\r\n\r\n        // res == [2015,2016]\r\n```\r\nYou can use array of arrays to make a query. In this case use square brackets for column name,\r\nlike \\[1\\] or table\\[2\\] (remember, all arrays in JavaScript start with 0):\r\n```js\r\n        var data = [\r\n            [2014, 1, 1], [2015, 2, 1],\r\n            [2016, 3, 1], [2017, 4, 2],\r\n            [2018, 5, 3], [2019, 6, 3]\r\n        ];\r\n        var res = alasql(\'SELECT SUM([1]) FROM ? d WHERE [0]>2016\', [data]);\r\n```\r\nUse alasql.queryArrayOfArrays() function to return array of arrays. In this case\r\nyou can specify array position of selected column with number or number in brackets:\r\n```js\r\n        var res = alasql.queryArrayOfArrays(\r\n            \'SELECT [1] AS 0,[1]+[2] AS [1] FROM ? d WHERE [0]>2016\', [data]);\r\n```\r\nThis feature can be used as filter for arrays. Compare:\r\n```js\r\n        // Same filter\r\n        var res1 = alasql.queryArrayOfArrays(\'SELECT * FROM ? a WHERE [0]>2016\', [data]);\r\n        var res2 = data.filter(function(a){return a[0]>2016});\r\n\r\n        // Complex filter with aggregating, grouping and sorting\r\n        var res = alasql.queryArrayOfArrays(\r\n            \'SELECT [2] AS 0, SUM([1]) AS 1 FROM ? a WHERE a[0]>? GROUP BY [0] ORDER BY [1]\', \r\n            [data, 2016]);\r\n\r\n```\r\n\r\n### Lower and Upper Case\r\n\r\nBy default, AlaSQL is case-insensitive to all standard keywords (like SELECT) and standard functions (like ABS()). All database names, table names, column names, and user-defined functions are case sensitive. \r\n\r\nJavaScript is case-sensitive language, so use the same CaSe for AlaSQL and JavaScript data.\r\n\r\nNow you can use databases, tables, and columns with spaces inside square brackets:\r\n\r\n```sql\r\n    CREATE DATABASE [My Database];  -- BTW You can use comments in the SQL statements\r\n    USE [My Database];              /* or comments like this */   \r\n    CREATE TABLE [A.table] ([the-column] INT);\r\n    INSERT INTO [A.table] VALUES (1),(2);\r\n    SELECT [the-column] AS [AS] FROM [My Database];\r\n```\r\nTry this sample in [AlaSQL console](http://alasql.org/console?CREATE DATABASE [My Database];USE [My Database];CREATE TABLE [A.table] ([the-column] INT);INSERT INTO [A.table] VALUES (1),(2);SELECT [the-column] AS [AS] FROM [My Database])\r\n\r\n\r\n### JavaScript Sugar\r\n\r\nAlaSQL extends "good old" SQL to make it closer to JavaScript. The "sugar" includes:\r\n\r\n* Json objects - ``` {a:1,b:@[1,2,3]}\r\n* Object propertires - ```obj->property->subproperty```\r\n* Object and arrays elements - ```obj->(a*1)```\r\n* JavaScript functions - ```obj->valueOf()```\r\n* SELECT VALUE, ROW, COLUMN, MATRIX to format results of query\r\n\r\n### Transactions\r\n\r\nThere is a limited support of transactions (with tx.rollback() and tx.commit() functions):\r\n\r\n```js\r\n    db = new alasql.Database("mydb");\r\n    db.transaction(function(tx) {\r\n        tx.exec(\'SELECT COUNT(*) FROM students\');\r\n        tx.rollback();\r\n    });     \r\n\r\n```\r\nWarning: Sorry, transactions now are temporary unavailable due some complexities with realization.\r\n\r\n### SQL to JavaScript parser and compiler\r\n\r\nYou can use AlaSQL to parse to AST and compile SQL statements:\r\n\r\n```js\r\n    // Parse to AST\r\n    var ast = alasql.parse("SELECT * FROM one");\r\n    console.log(ast.toString()); // Print restored SQL statement\r\n\r\n    // Compile to JavaScript function with or without parameters\r\n    var statement = alasql.compile("SELECT * FROM one WHERE a > ? AND b < ?");\r\n    statement([1,5]);\r\n```\r\n\r\nAlaSQL uses wonderful [Jison](http://jison.org) parser to produce AST-tree.\r\n\r\n\r\n### localStorage and DOM-storage\r\nYou can use browser localStorage and [DOM-storage](https://github.com/node-browser-compat/dom-storage) as a data storage. Here is a sample:\r\n```\r\n    alasql(\'CREATE localStorage DATABASE IF NOT EXISTS Atlas\');\r\n    alasql(\'ATTACH localStorage DATABASE Atlas AS MyAtlas\');\r\n    alasql(\'CREATE TABLE IF NOT EXISTS MyAtlas.City (city string, population number)\');\r\n    alasql(\'SELECT * INTO MyAtlas.City FROM ?\',[[{city:\'Vienna\', population:1731000}, \r\n        {city:\'Budapest\', population:1728000}]]);\r\n    var res = alasql(\'SELECT * FROM MyAtlas.City\');\r\n    console.log(res);\r\n```\r\nTry this sample in [jsFiddle](http://jsfiddle.net/agershun/x1gq3wf2/). Run this sample \r\ntwo or three times, and AlaSQL store more and more data in localStorage. Here, "Atlas" is \r\nthe name of localStorage database, where "MyAtlas" is a memory AlaSQL database.\r\n\r\nYou can use localStorage in two modes: SET AUTOCOMMIT ON to immediate save data\r\nto localStorage after each statement or SET AUTOCOMMIT OFF. In this case you need\r\nto use COMMIT statement to save all data from in-memory mirror to localStorage.\r\n\r\n### Work with CSV, TAB, TXT, and JSON files\r\nYou can use files in these formats directly from AlaSQL (in sync and async modes):\r\n```js\r\n    var res1 = alasq("select * from txt(\'mytext.txt\') where [0] like \'M%\'");\r\n    var res2 = alasq("select * from tab(\'mydata.tab\') order by [1]");\r\n    var res3 = alasq("select [3] as city,[4] as population from csv(\'cities.csv\')");\r\n    \r\n    alasq("select * from json(\'array.json\')",[],function(res4){\r\n        console.log(res4)\r\n    });\r\n```\r\nSee [test157.js](test/test157.js) as an example.\r\n\r\n### JSON-objects\r\n\r\nYou can use JSON objects in your databases (do not forget use == and !== operators for deep comparision of objects):\r\n```sql\r\n    alasql> SELECT VALUE @{a:1,b:2}\r\n\r\n    {a:1,b:2}\r\n\r\n    alasql> SELECT VALUE @{a:1,b:2} == @{a:1,b:2}\r\n\r\n    true\r\n\r\n    alasql> SELECT VALUE @{a:1,b:2}->b\r\n\r\n    2\r\n\r\n    alasql> SELECT VALUE @{a:1,b:(2*2)}->b\r\n\r\n    4\r\n\r\n```\r\nTry AlaSQL JSON objects in  Console [sample](http://alasql.org/console?drop table if exists one;create table one;insert into one values @{a:@[1,2,3],c:{e:23}}, @{a:@[{b:@[1,2,3]}]};select * from one)\r\n\r\n### Alacon - command-line utility\r\n\r\nYou can use AlaSQL from the command-line:\r\n```sql\r\n    > alacon "SELECT VALUE 1+1"\r\n    2\r\n    > alacon "SELECT VALUE 1+?" 2\r\n    3\r\n    > alacon "@{a:(1+?)}" 3\r\n    4\r\n```\r\n\r\n### Alaserver - simple database server\r\n\r\nYes, you can even use AlaSQL as a very simple server for tests.\r\n\r\nTo run enter the command: \r\n```\r\n    alaserver [port]\r\n```\r\nthen type in browser something like "http://127.0.0.1:1337/?SELECT VALUE 2*2" \r\n\r\nWarning: Alaserver is not multi-thread, not concurent, and not secured.\r\n\r\n\r\n### Performance\r\n\r\nAccording the preliminary performance tests alasql.js is faster than [sql.js]() in 5 to 10 times on more than 1000 records tables, and 2 to 3 times to [WebSQL]() on different queries. \r\n\r\nAlaSQL has four different optimization algorithm:\r\n* Caching of compiled queries\r\n* Joins: Preindexation of joined table\r\n* Joins: Prefiltering of WHERE expressions\r\n\r\nNow optimization algorithm has some limitations and therefore "table1 JOIN table2 USING column1, column2" is faster than "table1 JOIN table2 ON table1.column1 = table2.column1 AND table1.column2 = table2.column2 ", but with one column it is ok.\r\n\r\n### Limitations\r\n\r\nIt is Ok with select for 1000000 records or 2 join two tables by 10000 records in each. \r\nNow you can use streamming functions to work with longer datasources (see [test/test143.js](test/test143.js).\r\n\r\n### Tests\r\n\r\n### Tests with Mocha\r\nAlaSQL uses ```mocha``` for tests. Run mocha from command line in directory with tests:\r\n\r\n```\r\n    > cd test\r\n    > mocha .\r\n```\r\nor run [test/index.html](test/index.html) for tests in browser.\r\n\r\n### Tests with AlaSQL ASSERT from SQL\r\n\r\nNow you can use AlaSQL [ASSERT](wiki/Assert)  operator to test results of previous operation:\r\n```sql\r\n    CREATE TABLE one (a INT);\r\n    ASSERT 1;\r\n    INSERT INTO one VALUES (1),(2),(3);\r\n    ASSERT 3;\r\n    SELECT * FROM one ORDER BY a DESC;\r\n    ASSERT [{a:3},{a:2},{a:1}];\r\n```\r\n\r\n### Warnings \r\nAlaSQL project is very young and still in active development phase, therefore it may have some bugs. Please, wait a little bit before start to use it in production. I am going to add more tests and clean the code before relaese more stable version 0.1.0. Please, submit any bugs and suggestions in [Issues page](https://github.com/agershun/alasql/issues).\r\n\r\nYou can check next version branches for new experimental features. \r\n\r\n### Known Bugs and Limitations\r\n\r\n1. ORDER BY clause on three or more UNIONS ( [See example in AlaSQL console](http://alasql.org/console?select 10 as a union all select 20 as a union all select 30 as a order by a desc) )\r\n2. Limited functionality for transactions (supports only for localStorage) - Sorry, transactions are limited, because AlaSQL started to use more complex approach for PRIMARY KEYS / FOREIGN KEYS. Transactions will be fully turned on again in one of the future version.\r\n3. Functionality of FOREIGN KEY, UNIQUE INDEX and CHECK conctraints is not realized in fully.\r\n\r\n\r\nProbably, there are many of others. Please, [give me a chance](https://github.com/agershun/alasql/issues) to fix them. Thank you!\r\n  \r\n### Future Plans\r\n\r\nRead my [to do](TODO.md) page\r\n\r\n### Similar and related projects\r\n\r\n* [AlaX](http://github.com/agershun/alax) - Export to Excel with colors and formats \r\n* [WebSQLShim](http://github.com/agershun/WebSQLShim) - WebSQL shim over IndexedDB (work in progress)\r\n* [AlaMDX](http://github.com/agershun/alamdx) - JavaScript MDX OLAP library (work in progresss) \r\n* [Other similar projects](http://github.com/agershun/alasql/wiki/Similar-Projects.md) - list of databases on JavaScript\r\n\r\n### FileSaver\r\n\r\nAlaSQL includess [FileSaver.js](https://github.com/eligrey/FileSaver.js/) library inside for saving files locally in browsers. Unfortunately, it cannot save files in Safari 8.0.\r\n\r\n### Contributors\r\n\r\n* [Andrey Gershun](http://github.com/agershun)\r\n* [Mathias Rangel Wulff](https://github.com/mathiasrw)\r\n* [Aubert Grégoire](https://github.com/gregaubert)\r\n\r\n### Credits\r\n\r\nMany thanks to Zach Carter for [Jison](http://zaach.github.io/jison/) parser generator, to the author of FileSaver.js, Andrew Kent for his [SQL Parser](https://github.com/forward/sql-parser), \r\nauthors of [XLSX](https://github.com/SheetJS/js-xlsx) library,\r\nand other people for useful tools, which make our work much easier.\r\n\r\n## License\r\n\r\n[MIT licence information](LICENSE).\r\n\r\nThe MIT license on this repo covers all contents of the repo, but does not supercede the existing licenses for products used for this work, including the Chinook Database (covered by the Microsoft Public License) and other products.\r\n\r\n(c) 2014, Andrey Gershun (agershun@gmail.com), \r\n\r\n',
17 silly publish   readmeFilename: 'README.md',
17 silly publish   gitHead: '0391553dcbd7e6484bcc1f25ab38fa328ca13b43',
17 silly publish   _id: 'alasql@0.0.49',
17 silly publish   _shasum: 'b8fc5c8e5797bd23f1f8d8397bd99a00ed16884d',
17 silly publish   _from: '.' }
18 silly mapToRegistry name alasql
19 silly mapToRegistry using default registry
20 silly mapToRegistry registry https://registry.npmjs.org/
21 silly mapToRegistry uri https://registry.npmjs.org/alasql
22 verbose publish registryBase https://registry.npmjs.org/
23 silly publish uploading /Users/agershun/.npm/alasql/0.0.49/package.tgz
24 verbose request uri https://registry.npmjs.org/alasql
25 verbose request sending authorization for write operation
26 info attempt registry request try #1 at 22:08:59
27 verbose request id cd05a13b06792445
28 http request PUT https://registry.npmjs.org/alasql
29 http 403 https://registry.npmjs.org/alasql
30 verbose headers { date: 'Wed, 22 Apr 2015 19:09:03 GMT',
30 verbose headers   server: 'Apache',
30 verbose headers   'content-type': 'application/json',
30 verbose headers   'cache-control': 'max-age=60',
30 verbose headers   'content-length': '96',
30 verbose headers   'accept-ranges': 'bytes',
30 verbose headers   via: '1.1 varnish',
30 verbose headers   'x-served-by': 'cache-fra1230-FRA',
30 verbose headers   'x-cache': 'MISS',
30 verbose headers   'x-cache-hits': '0',
30 verbose headers   'x-timer': 'S1429729739.776906,VS0,VE3378',
30 verbose headers   'keep-alive': 'timeout=10, max=50',
30 verbose headers   connection: 'Keep-Alive' }
31 verbose request invalidating /Users/agershun/.npm/registry.npmjs.org/alasql on PUT
32 error publish Failed PUT 403
33 verbose stack Error: "You cannot publish over the previously published version 0.0.49." : alasql
33 verbose stack     at CachingRegistryClient.<anonymous> (/usr/local/lib/node_modules/npm/node_modules/npm-registry-client/lib/request.js:254:14)
33 verbose stack     at Request._callback (/usr/local/lib/node_modules/npm/node_modules/npm-registry-client/lib/request.js:178:14)
33 verbose stack     at Request.self.callback (/usr/local/lib/node_modules/npm/node_modules/request/request.js:344:22)
33 verbose stack     at Request.emit (events.js:98:17)
33 verbose stack     at Request.<anonymous> (/usr/local/lib/node_modules/npm/node_modules/request/request.js:1239:14)
33 verbose stack     at Request.emit (events.js:117:20)
33 verbose stack     at IncomingMessage.<anonymous> (/usr/local/lib/node_modules/npm/node_modules/request/request.js:1187:12)
33 verbose stack     at IncomingMessage.emit (events.js:117:20)
33 verbose stack     at _stream_readable.js:929:16
33 verbose stack     at process._tickCallback (node.js:419:13)
34 verbose statusCode 403
35 verbose pkgid alasql
36 verbose cwd /Users/agershun/Dropbox/repo/alasql
37 error Darwin 14.1.0
38 error argv "node" "/usr/local/bin/npm" "publish"
39 error node v0.10.29
40 error npm  v2.6.1
41 error code E403
42 error "You cannot publish over the previously published version 0.0.49." : alasql
43 error If you need help, you may report this error at:
43 error     <http://github.com/npm/npm/issues>
44 verbose exit [ 1, true ]
